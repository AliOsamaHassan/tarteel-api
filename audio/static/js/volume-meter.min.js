function createAudioMeter(e,c,d,a){var b=e.createScriptProcessor(512);b.onaudioprocess=volumeAudioProcess;b.clipping=false;b.lastClip=0;b.volume=0;b.clipLevel=c||0.98;b.averaging=d||0.95;b.clipLag=a||750;b.connect(e.destination);b.checkClipping=function(){if(!this.clipping){return false}if((this.lastClip+this.clipLag)<window.performance.now()){this.clipping=false}return this.clipping};b.shutdown=function(){this.disconnect();this.onaudioprocess=null};return b}function volumeAudioProcess(f){var b=f.inputBuffer.getChannelData(0);var e=b.length;var d=0;var a;for(var c=0;c<e;c++){a=b[c];if(Math.abs(a)>=this.clipLevel){this.clipping=true;this.lastClip=window.performance.now()}d+=a*a}var g=Math.sqrt(d/e);this.volume=Math.max(g,this.volume*this.averaging)};