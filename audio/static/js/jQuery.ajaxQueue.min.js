(function(a){// jQuery on an empty object, we are going to use this as our Queue
var b=a({});a.ajaxQueue=function(c){// run the actual query
function d(b){e=a.ajax(c).done(f.resolve).fail(f.reject).then(b,b)}// queue our ajax request
var e,f=a.Deferred(),g=f.promise();return b.queue(d),g.abort=function(h){// proxy abort to the jqXHR if it is active
if(e)return e.abort(h);// if there wasn't already a jqXHR we need to remove from queue
var i=b.queue(),j=a.inArray(d,i);return-1<j&&i.splice(j,1),f.rejectWith(c.context||c,[g,h,""]),g},g}})(jQuery);
